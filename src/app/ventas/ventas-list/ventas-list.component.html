<mat-card>
  <mat-card-header class="flex justify-between items-center mb-4">
    <mat-card-title>Lista de Ventas</mat-card-title>

    <!--  BotÃ³n para Reporte de Ventas -->
    <button mat-raised-button color="primary" (click)="goToReporte()">
      <mat-icon>bar_chart</mat-icon>
      Reporte de Ventas
    </button>
  </mat-card-header>

  <mat-card-actions>
    <button mat-raised-button color="accent" (click)="crearNuevaVenta()">
      <mat-icon>add</mat-icon>
      Nueva Venta
    </button>
  </mat-card-actions>


  <table mat-table [dataSource]="ventas" class="mat-elevation-z8">

    <!-- Columna: ID -->
    <ng-container matColumnDef="ventaId">
      <th mat-header-cell *matHeaderCellDef> VentaId </th>
      <td mat-cell *matCellDef="let v"> {{v.ventaId}} </td>
    </ng-container>

    <!-- Columna: Cliente -->
    <ng-container matColumnDef="cliente">
      <th mat-header-cell *matHeaderCellDef> Cliente </th>
      <td mat-cell *matCellDef="let v"> {{v.cliente?.nombres}} {{v.cliente?.apellidos}} </td>
    </ng-container>

    <!-- Columna: Total -->
    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef> Total </th>
      <td mat-cell *matCellDef="let v"> {{v.total | currency}} </td>
    </ng-container>

    <!-- Columna: Acciones -->
    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones </th>
      <td mat-cell *matCellDef="let v">
        <button mat-button [routerLink]="['/ventas', v.ventaId]">Ver Detalles</button>
        <button mat-button color="accent" (click)="editarVenta(v.ventaId)">Editar</button>
        <button *ngIf="userRole === 'Administrador'" mat-button color="warn" (click)="eliminarVenta(v.ventaId)">
    Eliminar
  </button>
      </td>
    </ng-container>

    <!-- Filas -->
    <tr mat-header-row *matHeaderRowDef="['ventaId','cliente','total','acciones']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['ventaId','cliente','total','acciones']"></tr>
  </table>
</mat-card>
